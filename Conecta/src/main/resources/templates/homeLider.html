<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>Home | Lider</title>
<link rel="stylesheet" type="text/css" media="screen"
	th:href="@{/css/homeLider.css}" />
	
<script type="text/javascript"></script>

<!--Sera substituido pelo fragmento head que contem associaçoes para menu funcionar-->
<th:block th:replace="fragments/head :: head"></th:block>
</head>
<body id="menuBody">
	<!--Sera substituido pelo fragmento do menu-->
	<div th:replace="fragments/menuLider :: menu"></div>
	<div id="content" class="row">
		<div class="aEsquerda col-lg-8">
			<div class="fundo">
				<h2>Agendamentos</h2>
				<div id="rolagemAgendamentos" class="rolagem">
					<table>
						<thead>
							<tr>
								<th>Cod</th>
								<th>Título do Agendamento</th>
								<th>Descrição do Agendamento</th>
								<th>Criado Por</th>
								<th>Projeto</th>
								<th>Produto</th>
								<th>Consultor</th>
								<th>Horas</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="a : ${agendamento}">
								<td th:text="${a.idAgendamento}"></td>
								<td th:text="${a.pedido.titulo}"></td>
								<td th:text="${a.pedido.descricao}"></td>
								<td>
									<table>
										<tbody>
											<tr th:each="g : ${a.criadoPor.grupo}">
												<td th:text="${g.nomeGrupo}"></td>
											</tr>
										</tbody>
									</table>
								</td>
								<td th:text="${a.pedido.projeto.nome}"></td>
								<td th:text="${a.pedido.projeto.produto}"></td>
								<td th:text="${a.disponivel.consultor.nome}"></td>
								<td th:text="${a.pedido.sugestaoDeHoras}"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<div id="aprovar" class="fundo">
				<!-- parte para terminar e fazer a parte de aprovar e reprovar	-->
				<div>
						<button class="buttonAprovarERecusar" id="buttonAprovar" onclick="TrocaPainel()">Aprovar</button>
						<button class="buttonAprovarERecusar" id="buttonRecusar" onclick="TrocaPainel()">Recusar</button>
				</div>
				<h2>Aprovar</h2>
				<form action="/homeLider/aprovar" method="post"
					th:object="${alocacoes}">
					<div>
						<label>Id do Agendamento:</label> <input name="agendamento">
						<label>Motivo:</label> <input name="motivo"> 
					</div>
					<div>
						<label>Hora Inicio:</label> <input name="horaInicio">
						<label>Hora Fim:</label> <input name="horaFim">
					</div>
					<button type="submit">Enviar</button> <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
				</form>
			</div>

			<div id="reprovar" class="fundo">
				<h2>Reprovar</h2>
				<form action="/homeLider/reprovar" method="post"
					th:object="${recusado}">
					<label>Id do Agendamento:</label> <input name="agendamento">
					<label>Motivo:</label> <input name="motivo">
					<button type="submit">Reprovar</button>
					<input type="hidden" th:name="${_csrf.parameterName}"
						th:value="${_csrf.token}" />
				</form>
			</div>
		</div>
		
		<div class="aDireita col-lg-4">
			<div id="fundoListaDeDisponibilidade" class="fundo">
				<h2>Lista de disponibilidade</h2>
				<div id="rolagemListaDisponibilidade" class="rolagem">
					<table>
						<thead>
							<tr>
								<th>Cód.</th>
								<th>Consultor</th>
								<th>Hora início</th>
								<th>Hora fim</th>
								<th>Créditos / h</th>
								<th>Habilidade Principal</th>
								<th>Habilidade Especifica</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="d : ${disponiveis}">
								<td th:text="${d.idDisponivel}"></td>
								<td th:text="${d.consultor.nome}"></td>
								<td th:text="${d.horaInicio}"></td>
								<td th:text="${d.horaFim}"></td>
								<td th:text="${d.consultor.creditosPorHora}"></td>
								<td>
									<table>
										<tbody>
											<tr th:each="h : ${d.consultor.habilidadesEspecificas}">
												<td
													th:text="${h.habilidadesPrincipais.nomeHabilidadePrincipal}"></td>
												<td th:text="${h.nomeHabilidadeEspecifica}"></td>
											</tr>
										</tbody>
									</table>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	
</body>
</html>